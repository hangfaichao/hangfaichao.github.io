---
title: 二分查找
date: 2019-10-02 16:07:57
tags: binary search, JAVA
category: algorithm
---

https://leetcode-cn.com/problems/binary-search/solution/er-fen-cha-zhao-xiang-jie-by-labuladong/这篇博文把使用$<$还是$\leq$，区间收缩时是否+1都说的很明白了。



知乎中看到的高赞推荐是使用c++标准库<algorithm>中的二分查找，这里用JAVA充重写如下：

```java
public int binarySearch(int[] nums, int left, int right, int target) {
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else {
            right = mid;
        }
    }
    return left;
}
```

要注意的是：这里的区间为左闭右开：[left, right)，返回的是第一个不小于target的位置，如果要返回任意一个等于target的位置，只要在判断条件中加入判断相等即返回的语句。

并且，答主罗列了一系列好处：https://www.zhihu.com/question/36132386

这里补充一个闭区间的模板：

```java
public int binarySearch(int[] nums, int left, int right, int target) {
    while (left <= right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    return left;
}
```

这个模板返回的也是第一个不小于target的位置。

稍微麻烦点的是：各种变体（例如最后一个不大于target的位置等等）的话需要是对if判断条件和返回的是left和right有所思考。

